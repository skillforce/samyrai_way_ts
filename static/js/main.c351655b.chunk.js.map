{"version":3,"sources":["Redux/ProfilePage-reducer.tsx","API/API.tsx","Redux/DialogsPage-reducer.tsx","utils/Object-helpers.tsx","Redux/UsersPage-reducer.tsx","components/Header/Header.module.css","components/Preloader/Preloader.module.css","components/common/Error404/Error404.module.css","Redux/Auth-reducer.tsx","components/common/FormsControls/FormsControls.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Navbar/SideBar/Friends/Friends.tsx","components/Navbar/SideBar/SideBar.tsx","components/Navbar/Navbar.tsx","components/Navbar/NavBarContainer.tsx","Redux/loginPage-reducer.tsx","components/Header/miniAvaBlock.tsx","components/Header/Header.tsx","img/logo.png","components/Header/HeaderContainer.tsx","components/Login/LoginForm.tsx","img/log1.png","img/log2.png","img/log3.png","img/log4.png","components/Login/login.tsx","Redux/NavBarPage-reducer.tsx","Redux/SideBar-reducer.tsx","Redux/ReduxStore.tsx","HOC/withSuspense.tsx","components/common/Error404/404ErrImg/notfound.gif","components/common/Error404/Error404.tsx","App.tsx","index.tsx","utils/validators.tsx","HOC/withAuthRedirect.tsx","components/Login/login.module.css","Redux/App-reducer.tsx","components/Navbar/Navbar.module.css","components/Navbar/SideBar/Friends/Friends.module.css","components/Login/LoginForm.module.css","img/preloader.png","components/Preloader/Preloader.tsx","components/common/FormsControls/FormsControls.module.css","components/Profile/MyPosts/ReduxMyPostForm.tsx","components/Navbar/SideBar/SideBar.module.css","components/Header/miniAvaBlock.module.css","img/avatarBlock.png"],"names":["AddPost","SetUsersProfileT","SetUsersStatusT","DeletePost","SavePhoto","SetInitStatus","SetProfileEditMode","addPost","text","type","SetUsersProfile","profile","SetUsersStatus","status","SetInitializedNewPhotoProfile","newStatus","SetIsProfileSetMode","getProfile","userId","dispatch","getState","a","profileAPI","resGetProfile","getStatus","reGetStatus","updateStatus","response","resultCode","alert","messages","savePhoto","photo","data","photoFromServer","photos","setUsersPhotoHeader","small","saveProfile","Auth","id","fieldWithError","slice","toLowerCase","stopSubmit","Promise","reject","_error","InitialState","postData","avatar","name","message","time","likes","initializedNewPhotoProfile","isProfileSetMode","ProfilePageReducer","state","action","filter","t","postId","instanceUser","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","getPhoto","followUser","post","unFollowUser","delete","AuthAPI","authMe","login","authObj","logOut","put","formData","FormData","append","securityAPI","getCaptchaUrl","AddOutputMsg","AddOutputMsgActionType","newOutputMsgText","dialogsData","messagesData","inputMessage","outputMessage","DialogsPageReducer","updateObjectInArray","items","IdUser","followed","map","FollowUsers","UnfollowUsers","SetUsers","SetCurrentPage","setTotalUserCount","ToggleIsFetching","ToggleIsFollowingProgress","onFollow","onUnFollow","toggleIsFetching","isFetching","toggleIsFollowingProgress","users","totalUserCount","totalCount","totalUsersCount","page","followUnFollowFlow","apiMethod","actionCreator","UnFollowUsers","bind","followUsers","UsersData","followInProgress","UserPageReducer","module","exports","Set_User_Data","Set_User_Photo","setUsersHeader","user","getAuthMe","resAuthMe","resGetPhoto","isInitializedAC","email","undefined","AuthReducer","formControl","s","errorS","checkboxBlock","FormControl","meta","touched","error","children","showErr","className","TextArea","pr","input","restProps","InputValid","createField","component","props","placeholder","validators","validate","withAuthRedirect","photoBlock","photoBlock_photo","photoBlock_name","titlePhoto","Friends","friendsData","friends","src","alt","title","titleName","SideBar","sideBar","isFetch","nav","item","setting","active","NavBar","navBarLink","navBarLinks","to","link","activeClassName","NavBarContainer","connect","navBarPage","LOGIN_USER_TRUE","LOGIN_USER_FALSE","SET_CAPTCHA_URL","logIn","captchaUrl","url","newUrl","loginPageReducer","loginBlock","autorize","MiniAvaBlock","useState","logOunBtn","setLogOutBtn","useDispatch","fetching","onClick","voidAva","header","Header","initialized","useSelector","AppPage","HeaderContainer","this","React","Component","inputField","checkBox","btnLog","form_summary_error","ReduxLoginForm","reduxForm","form","handleSubmit","loginPage","onSubmit","requiredField","maxLength30","loginImg1","loginImg2","loginImg3","loginImg4","Login","login1","login2","login3","login4","logInRes","logInThunk","class","NavBarPageReducer","SideBarReducer","rootReducer","combineReducers","profilePage","dialogsPage","UsersPage","formReducer","AppReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleWare","window","withSuspense","fallback","Preloader","err404","Error404","errImg","DialogsContainer","lazy","ProfileContainer","ContainerUsersClass","App","useEffect","exact","path","render","SamuraiJSApp","ReactDOM","document","getElementById","MaxLengthCreator","maxLength","value","length","mapStateToPropsForRedirect","isAuth","SET_INITIALIZED","isInit","isInitialized","preloaderClass","preloader","ReduxMyPostForm"],"mappings":"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","file":"static/js/main.c351655b.chunk.js","sourcesContent":["import {PostType} from '../components/Profile/MyPosts/Post/Post';\r\nimport {ProfileResponseType} from '../components/Profile/ProfileContainer';\r\nimport {Dispatch} from 'redux';\r\nimport {profileAPI} from '../API/API';\r\nimport {AppStateType} from './ReduxStore';\r\nimport {GetStateType} from './UsersPage-reducer';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {setUsersPhotoHeader, setUsersPhotoHeaderType} from './Auth-reducer';\r\nimport {stopSubmit} from 'redux-form';\r\nimport Profile from '../components/Profile/Profile';\r\n\r\n\r\nconst AddPost = 'ProfilePageReducer/ADD-POST';\r\nconst SetUsersProfileT = 'ProfilePageReducer/SET-USERS-PROFILE';\r\nconst SetUsersStatusT = 'ProfilePageReducer/SET-USERS-STATUS';\r\nconst DeletePost = 'ProfilePageReducer/DELETE-POST';\r\nconst SavePhoto = 'ProfilePageReducer/SET-USER-NEW-PHOTO';\r\nconst SetInitStatus = 'ProfilePageReducer/SET-INIT-STATUS-NEW-PHOTO';\r\nconst SetProfileEditMode = 'ProfilePageReducer/SET-PROFILE-SET-MODE';\r\n\r\n\r\n\r\nexport const addPost = (text: string) => ({type: 'ProfilePageReducer/ADD-POST' as const, text});\r\nexport const deletePost = (postId: number) => ({type: 'ProfilePageReducer/DELETE-POST' as const, postId});\r\nexport const SetUsersProfile = (profile: ProfileResponseType) => ({\r\n    type: 'ProfilePageReducer/SET-USERS-PROFILE' as const,\r\n    profile\r\n});\r\nexport const SetUsersStatus = (status: string) => ({type: 'ProfilePageReducer/SET-USERS-STATUS' as const, status});\r\nexport const savePhotoSuccess = (photoFromServer: { small: string | null, large: string | null }) => ({\r\n    type: 'ProfilePageReducer/SET-USER-NEW-PHOTO' as const,\r\n    photoFromServer\r\n});\r\nexport const SetInitializedNewPhotoProfile = (newStatus: boolean) => ({\r\n    type: 'ProfilePageReducer/SET-INIT-STATUS-NEW-PHOTO' as const,\r\n    newStatus\r\n});\r\n\r\nexport const SetIsProfileSetMode = (newStatus: boolean) => ({\r\n    type: 'ProfilePageReducer/SET-PROFILE-SET-MODE' as const,\r\n    newStatus\r\n})\r\n\r\n\r\nexport type addPostType = ReturnType<typeof addPost>\r\nexport type SetUsersProfileType = ReturnType<typeof SetUsersProfile>\r\ntype SetUsersStatusType = ReturnType<typeof SetUsersStatus>\r\ntype DeletePostType = ReturnType<typeof deletePost>\r\ntype savePhotoSuccessType = ReturnType<typeof savePhotoSuccess>\r\ntype SetInitializedNewPhotoProfileType = ReturnType<typeof SetInitializedNewPhotoProfile>\r\ntype SetIsProfileSetModeType = ReturnType<typeof SetIsProfileSetMode>\r\n\r\n\r\n\r\nexport type SetUsersForProfileType = typeof SetUsersProfile\r\nexport type addPostTypeForMyPostContainer = typeof addPost\r\n\r\ntype ContactsType = {\r\n    facebook: string,\r\n    github: string,\r\n    instagram: string\r\n    mainLink: string\r\n    twitter: string\r\n    vk: string\r\n    website: string\r\n    youtube: string\r\n}\r\n\r\nexport type TrueFormDataProfileType = { //with aboutMe property\r\n    fullName: string\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    AboutMe: string\r\n    contacts: ContactsType\r\n}\r\n\r\n\r\nexport type ProfilePageActionType =\r\n    addPostType\r\n    | SetUsersProfileType\r\n    | SetUsersStatusType\r\n    | DeletePostType\r\n    | savePhotoSuccessType\r\n    | setUsersPhotoHeaderType\r\n    | SetInitializedNewPhotoProfileType\r\n    | SetIsProfileSetModeType\r\n\r\n\r\nexport const getProfile = (userId: number): ThunkAction<void, AppStateType, unknown, ProfilePageActionType> => {\r\n    return async (dispatch: Dispatch<ProfilePageActionType>, getState: GetStateType) => {\r\n        let resGetProfile = await profileAPI.getProfile(userId);\r\n        dispatch(SetUsersProfile(resGetProfile));\r\n    };\r\n}\r\n\r\nexport const getStatus = (userId: number) => {\r\n    return async (dispatch: Dispatch<ProfilePageActionType>, getState: GetStateType) => {\r\n        let reGetStatus = await profileAPI.getStatus(userId);\r\n        if (reGetStatus != null) {\r\n            dispatch(SetUsersStatus(reGetStatus));\r\n        } else {\r\n            dispatch(SetUsersStatus(''));\r\n        }\r\n    };\r\n}\r\n\r\nexport const updateStatus = (newStatus: string) => {\r\n    return async (dispatch: Dispatch<SetUsersStatusType>, getState: () => AppStateType) => {\r\n        try {\r\n            let response = await profileAPI.updateStatus(newStatus)\r\n            if (response.resultCode === 0) {\r\n                dispatch(SetUsersStatus(newStatus));\r\n            }if (response.resultCode === 1) {\r\n               alert(response.messages[0])\r\n            }\r\n        }catch(error){\r\n            alert(error) //error сервер не возвращает(такая АПИшка)\r\n        }\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo: File) => {\r\n    return async (dispatch: Dispatch<ProfilePageActionType >, getState: () => AppStateType) => {\r\n        dispatch(SetInitializedNewPhotoProfile(false))\r\n        let response = await profileAPI.savePhoto(photo)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(response.data.data.photos))\r\n            dispatch(setUsersPhotoHeader(response.data.data.photos.small))\r\n            dispatch(SetInitializedNewPhotoProfile(true))\r\n        }\r\n\r\n    }\r\n}\r\nexport const saveProfile = (profile: TrueFormDataProfileType) => {\r\n    return async (dispatch: Dispatch<ProfilePageActionType & any>, getState: () => AppStateType) => {\r\n        let response = await profileAPI.saveProfile(profile)\r\n        if (response.data.resultCode === 0) {\r\n            const userId=getState().Auth.id\r\n            if(userId!==null) {\r\n                dispatch(getProfile(userId))\r\n            }\r\n         } else {\r\n            const fieldWithError = response.data.messages[0]? response.data.messages[0].slice(30,-1).toLowerCase():null\r\n\r\n             switch (fieldWithError){\r\n                 case 'facebook':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'facebook':  'incorrect input in facebook-field'} }))\r\n                     return Promise.reject()\r\n                 case 'vk':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'vk':  'incorrect input in vk-field'} }))\r\n                     return Promise.reject()\r\n                 case 'twitter':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'twitter':  'incorrect input in twitter-field'} }))\r\n                     return Promise.reject()\r\n                 case 'website':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'website':  'incorrect input in website-field'} }))\r\n                     return Promise.reject()\r\n                 case 'youtube':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'youtube':  'incorrect input in youtube-field'} }))\r\n                     return Promise.reject()\r\n                 case 'github':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'github':  'incorrect input in github-field'} }))\r\n                     return Promise.reject()\r\n                 case 'mainLink':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'mainLink':  'incorrect input in mainLink-field'} }))\r\n                     return Promise.reject()\r\n                 case 'instagram':\r\n                       dispatch(stopSubmit('edit_profile', {'contacts':{'instagram':  'incorrect input in instagram-field'} }))\r\n                     return Promise.reject()\r\n                 default :\r\n                     return  dispatch(stopSubmit('edit_profile', {_error: response.data.messages[0]}))\r\n             }\r\n\r\n    }\r\n\r\n    }\r\n}\r\n\r\n\r\nlet InitialState = {\r\n    postData: [\r\n        {\r\n            avatar: 'https://cdn.shopify.com/s/files/1/1330/6165/products/itachiheadweek_2048x.jpg?v=1623042372',\r\n            name: 'Itachi',\r\n            message: 'How is your project?',\r\n            time: '22:00',\r\n            likes: 15,\r\n            id: 1\r\n        },\r\n        {\r\n            avatar: 'https://wiki.jcdn.ru/w/images/thumb/f/f0/SakuraBorutoMovie.jpg/250px-SakuraBorutoMovie.jpg',\r\n            name: 'Sakura',\r\n            message: 'How are you?',\r\n            time: '23:00',\r\n            likes: 10,\r\n            id: 2\r\n        }, {\r\n            avatar: 'https://avatars.mds.yandex.net/get-zen_doc/1579004/pub_5f8606849cd6237d30770702_5f8606e6ae6a9712bf6ef638/scale_1200',\r\n            name: 'Saske',\r\n            message: 'What do you do?',\r\n            time: '01:00',\r\n            likes: 7,\r\n            id: 3\r\n        }\r\n    ] as PostType[],\r\n    profile: null as ProfileResponseType | null,\r\n    status: null as string | null,\r\n    initializedNewPhotoProfile: true,\r\n    isProfileSetMode: false\r\n}\r\n\r\nexport type InitialStateProfileType = typeof InitialState;\r\n\r\n\r\nexport const ProfilePageReducer = (state: InitialStateProfileType = InitialState, action: ProfilePageActionType): InitialStateProfileType => {\r\n    switch (action.type) {\r\n        case AddPost:\r\n            if (action.text) {\r\n                return {\r\n                    ...state, postData: [{\r\n                        avatar: 'https://wiki.jcdn.ru/w/images/thumb/a/a7/Rikudo_second_son.jpg/250px-Rikudo_second_son.jpg',\r\n                        name: 'Indra',\r\n                        message: action.text,\r\n                        time: '12:00',\r\n                        likes: 0,\r\n                        id: 3\r\n                    }, ...state.postData]\r\n                }\r\n            } else {\r\n                return state;\r\n            }\r\n        case SetUsersProfileT:\r\n            return {...state, profile: action.profile}\r\n        case SetUsersStatusT:\r\n            return {...state, status: action.status}\r\n        case DeletePost:\r\n            return {...state, postData: state.postData.filter(t => t.id !== action.postId)}\r\n        case SavePhoto:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photoFromServer\r\n                }\r\n            }\r\n        case SetInitStatus:\r\n            return {...state, initializedNewPhotoProfile: action.newStatus}\r\n        case SetProfileEditMode:\r\n            return {...state, isProfileSetMode: action.newStatus}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default ProfilePageReducer;","import axios from 'axios';\r\nimport {UsersDataType} from '../Redux/UsersPage-reducer';\r\nimport {ProfilePhotosType, ProfileResponseType} from '../components/Profile/ProfileContainer';\r\n\r\nimport {TrueFormDataProfileType} from '../Redux/ProfilePage-reducer';\r\n\r\nconst instanceUser = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '7951e440-30ed-406d-a910-3ae4f159b3e0'}\r\n})\r\n\r\ntype GetUsersAPIType = {\r\n    items: UsersDataType[],\r\n    totalCount: number,\r\n    error: null\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage: number = 1, pageSize: number = 10) => {\r\n        return instanceUser.get<GetUsersAPIType>(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    getPhoto: (photo: number | null | undefined) => {\r\n        return instanceUser.get<ProfileResponseType>(`profile/${photo}`).then(response => response.data);\r\n    },\r\n    followUser: (id: number) => {\r\n        return instanceUser.post<boolean>(`follow/${id}`).then(response => response.data);\r\n    },\r\n    unFollowUser: (id: number) => {\r\n        return instanceUser.delete<AuthMeAPIType>(`follow/${id}`).then(response => response.data);\r\n    },\r\n}\r\n\r\ntype AuthMeAPIType<T = {}> = {\r\n    data: T\r\n    messages: [] | [string]\r\n    fieldsErrors: [] | [string]\r\n    resultCode: number\r\n}\r\n\r\n\r\nexport const AuthAPI = {\r\n    authMe: () => {\r\n        return instanceUser.get<AuthMeAPIType<{ id: number, email: string, login: string }>>('auth/me/').then(response => response.data);\r\n    },\r\n    login: (authObj: any) => {\r\n        return instanceUser.post<AuthMeAPIType<{ userId: number }>>(`/auth/login`, authObj).then(response => response.data);\r\n    },\r\n    logOut: () => {\r\n        return instanceUser.delete<AuthMeAPIType>(`/auth/login`).then(response => response.data);\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile: (id: number) => {\r\n        return instanceUser.get<ProfileResponseType>(`profile/${id}`).then(response => response.data);\r\n    },\r\n    getStatus: (id: number) => {\r\n        return instanceUser.get<string>(`profile/status/${id}`).then(response => response.data);\r\n    },\r\n    updateStatus: (status: string) => {\r\n        return instanceUser.put<AuthMeAPIType>(`profile/status`, {status}).then(response => response.data);\r\n    },\r\n    savePhoto: (photo: File) => {\r\n        const formData = new FormData();\r\n        formData.append('NewAva', photo)\r\n        return instanceUser.put<AuthMeAPIType<{ photos: ProfilePhotosType }>>('/profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile: (profile: TrueFormDataProfileType) => {\r\n        return instanceUser.put<AuthMeAPIType<{ photos: ProfilePhotosType }>>('/profile', profile)\r\n    }\r\n}\r\n\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl(){\r\n        return instanceUser.get('security/get-captcha-url')\r\n    }\r\n}\r\n\r\n","import {DialogsNamesType} from '../components/Dialogs/dialogItems/dialogItems';\r\nimport {InputType, OutputType} from '../components/Dialogs/message/message';\r\n\r\n\r\nconst AddOutputMsg = 'DialogsPageReduce/ADD-OUTPUT-MSG';\r\n\r\nexport const AddOutputMsgActionType = (newOutputMsgText: string) => ({type: AddOutputMsg, newOutputMsgText});\r\n\r\ntype DialogsPageActionType = ReturnType<typeof AddOutputMsgActionType>\r\n\r\n\r\n\r\nlet InitialState = {\r\n    dialogsData: [\r\n        {\r\n            id: 1,\r\n            name: 'Denis',\r\n            photo: 'https://i.pinimg.com/736x/fe/af/c4/feafc4441c41294d5922590a49afea41.jpg'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Max',\r\n            photo: 'https://wiki.jcdn.ru/w/images/thumb/7/78/NarutoSageMode.jpg/170px-NarutoSageMode.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Olga',\r\n            photo: 'https://naruhina.ru/pics/full/43/u_150615141333719.jpg'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Ann',\r\n            photo: 'https://i.pinimg.com/originals/a7/4f/e9/a74fe9ee87190d4722f33c4088dd84ec.jpg'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Andrey',\r\n            photo: 'https://99px.ru/sstorage/56/2013/08/image_561408130108304153706.jpg'\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'Polina',\r\n            photo: 'https://pp.userapi.com/c836334/v836334838/4fd0e/ROZ9MDUx9j0.jpg'\r\n        }\r\n    ] as Array<DialogsNamesType>,\r\n    messagesData: {\r\n        inputMessage: [\r\n            {id: 1, messages: 'Hello'},\r\n            {id: 2, messages: 'Yo'},\r\n            {id: 3, messages: 'How are you?'},\r\n            {id: 4, messages: 'What did you do?'},\r\n            {id: 5, messages: 'What is you name?'},\r\n            {id: 6, messages: 'Cool!'}\r\n        ] as Array<InputType>,\r\n        outputMessage:\r\n            [\r\n                {id: 1, messages: 'Hi!'},\r\n                {id: 2, messages: 'Yes'},\r\n                {id: 3, messages: 'and you?'},\r\n                {id: 4, messages: 'Thanks?'},\r\n                {id: 5, messages: 'wow!!!?'},\r\n                {id: 6, messages: 'lalalal'}\r\n            ] as Array<OutputType>\r\n    },\r\n}\r\n\r\nexport type InitialStateDialogsType = typeof InitialState;\r\n\r\n\r\nconst DialogsPageReducer = (state: InitialStateDialogsType = InitialState, action: DialogsPageActionType): InitialStateDialogsType => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n        case AddOutputMsg:\r\n            if (action.newOutputMsgText) {\r\n                return state = {\r\n                    ...state, messagesData: {\r\n                        ...state.messagesData, outputMessage:\r\n                            [...state.messagesData.outputMessage, {id: 1, messages: action.newOutputMsgText}]\r\n                    }\r\n                }\r\n            } else {\r\n                return state\r\n            }\r\n    }\r\n}\r\n\r\nexport default DialogsPageReducer;","import {\r\n    UsersDataType\r\n} from '../Redux/UsersPage-reducer';\r\n\r\n\r\nexport const updateObjectInArray = (items:UsersDataType[],IdUser:number,followed:boolean)=>{\r\n    return items.map((t) => t.id === IdUser ? {\r\n        ...t,\r\n        followed: followed\r\n    } : t)\r\n}","import {Dispatch} from 'redux';\r\nimport {usersAPI} from '../API/API';\r\nimport {AppStateType} from './ReduxStore';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {updateObjectInArray} from '../utils/Object-helpers';\r\n\r\nconst FollowUsers = 'UsersPageReducer/FOLLOW' as const;\r\nconst UnfollowUsers = 'UsersPageReducer/UNFOLLOW' as const;\r\nconst SetUsers = 'UsersPageReducer/SET-USERS' as const;\r\nconst SetCurrentPage = 'UsersPageReducer/SET-CURRENT-PAGE' as const;\r\nconst setTotalUserCount = 'UsersPageReducer/SET-TOTAL-USER-COUNT' as const;\r\nconst ToggleIsFetching = 'UsersPageReducer/TOGGLE-IS-FETCHING' as const;\r\nconst ToggleIsFollowingProgress = 'UsersPageReducer/TOGGLE-IS-FOLLOWING-PROGRESS' as const;\r\n\r\n\r\nexport const onFollow = (id: number) => ({type: FollowUsers, id: id});\r\nexport const onUnFollow = (id: number) => ({type: UnfollowUsers, id: id});\r\nexport const setUsers = (users: UsersDataType[]) => ({type: SetUsers, users: users});\r\nexport const setCurrentPage = (page: number) => ({type: SetCurrentPage, page: page});\r\nexport const setTotalUsersCount = (totalUserCount: number) => ({\r\n    type: setTotalUserCount,\r\n    totalUsersCount: totalUserCount\r\n});\r\nexport const toggleIsFetching = (isFetching: boolean) => ({\r\n    type: ToggleIsFetching,\r\n    isFetching: isFetching\r\n});\r\n\r\nexport const toggleIsFollowingProgress = (id: number, isFetching: boolean) => ({\r\n    type: ToggleIsFollowingProgress,\r\n    id,\r\n    isFetching,\r\n});\r\n\r\nexport type onFollowACType = ReturnType<typeof onFollow>\r\nexport type onUnFollowACType = ReturnType<typeof onUnFollow>\r\ntype setUsersACType = ReturnType<typeof setUsers>\r\ntype setCurrentPageACType = ReturnType<typeof setCurrentPage>\r\ntype setTotalUsersCountACType = ReturnType<typeof setTotalUsersCount>\r\ntype toggleIsFetchingACType = ReturnType<typeof toggleIsFetching>\r\ntype toggleIsFollowingProgressACType = ReturnType<typeof toggleIsFollowingProgress>\r\n\r\nexport type UserPageActionType =\r\n    onFollowACType\r\n    | onUnFollowACType\r\n    | setUsersACType\r\n    | setCurrentPageACType\r\n    | setTotalUsersCountACType\r\n    | toggleIsFetchingACType\r\n    | toggleIsFollowingProgressACType\r\n\r\nexport type GetStateType = () => AppStateType\r\n\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: Dispatch<UserPageActionType>, getState: GetStateType) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let response = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setCurrentPage(currentPage));\r\n    }\r\n}\r\n\r\n\r\nconst followUnFollowFlow = async (dispatch: Dispatch<UserPageActionType>, userId: number, apiMethod: any, actionCreator: typeof onFollow | typeof onUnFollow) => {\r\n    dispatch(toggleIsFollowingProgress(userId, true));\r\n    let response = await apiMethod(userId);\r\n    if (response) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowingProgress(userId, false));\r\n}\r\n\r\n\r\nexport const UnFollowUsers = (userId: number): ThunkAction<Promise<void>, AppStateType, unknown, UserPageActionType> => {\r\n    return async (dispatch, getState) => {\r\n        followUnFollowFlow(dispatch, userId, usersAPI.unFollowUser.bind(usersAPI), onUnFollow)\r\n    }\r\n}\r\n\r\n\r\nexport const followUsers = (userId: number) => {\r\n    return (dispatch: Dispatch<UserPageActionType>, getState: GetStateType) => {\r\n        followUnFollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), onFollow)\r\n    }\r\n}\r\n\r\n\r\nexport type UsersDataType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: string | null\r\n    photos: { small: string | undefined, large: string | undefined }\r\n    followed: boolean\r\n    status: string\r\n}\r\n\r\n\r\nlet InitialState = {\r\n    UsersData: [] as UsersDataType[] | [],\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followInProgress: [] as number[]\r\n}\r\n\r\n\r\nexport type InitialStateUsersType = typeof InitialState\r\n\r\nconst UserPageReducer = (state: InitialStateUsersType = InitialState, action: UserPageActionType): InitialStateUsersType => {\r\n    switch (action.type) {\r\n        case FollowUsers :\r\n            return {\r\n                ...state,\r\n                UsersData: updateObjectInArray(state.UsersData, action.id, true)\r\n            }\r\n        case UnfollowUsers:\r\n            return {\r\n                ...state,\r\n                UsersData: updateObjectInArray(state.UsersData, action.id, false)\r\n            }\r\n        case SetUsers :\r\n            if (action.users) {\r\n                return {...state, UsersData: [...action.users]}\r\n            } else {\r\n                return state\r\n            }\r\n        case SetCurrentPage:\r\n            return {...state, currentPage: action.page}\r\n\r\n        case setTotalUserCount:\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n\r\n        case ToggleIsFetching:\r\n            return {...state, isFetching: action.isFetching}\r\n        case ToggleIsFollowingProgress:\r\n            return {\r\n                ...state,\r\n                followInProgress: action.isFetching ? [...state.followInProgress, action.id] :\r\n                    state.followInProgress.filter((id: number) => id !== action.id)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default UserPageReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2u2Vn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderClass\":\"Preloader_preloaderClass__3xwy5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"err404\":\"Error404_err404__cXK8U\"};","import {Dispatch} from 'redux';\r\n\r\nimport {AuthAPI, usersAPI} from '../API/API';\r\nimport {GetStateType} from './UsersPage-reducer';\r\nimport {isInitialACType, isInitializedAC} from './App-reducer';\r\n\r\n\r\nconst Set_User_Data = 'Auth-reducer/SET_USERS_DATA';\r\nconst Set_User_Photo = 'Auth-reducer/SET_USERS_PHOTO';\r\n\r\n\r\ntype UserType = {\r\n    id: null | number\r\n    email: string | null\r\n    login: string | null\r\n\r\n}\r\n\r\n\r\nexport const setUsersHeader = (user: UserType, isFetching: boolean) => ({\r\n    type: 'Auth-reducer/SET_USERS_DATA' as const,\r\n    user,\r\n    isFetching\r\n});\r\nexport const setUsersPhotoHeader = (photo: string | null) => ({type: 'Auth-reducer/SET_USERS_PHOTO' as const, photo});\r\n\r\ntype SetUsersHeaderType = ReturnType<typeof setUsersHeader>\r\nexport type setUsersPhotoHeaderType = ReturnType<typeof setUsersPhotoHeader>\r\n\r\n\r\nexport const getAuthMe = (id: number | null = null):any => {\r\n    return async (dispatch: Dispatch<AuthACType|isInitialACType>, getState: GetStateType) => {\r\n        let resAuthMe = await AuthAPI.authMe();\r\n        if (resAuthMe.resultCode === 0) {\r\n            dispatch(setUsersHeader(resAuthMe.data, true));\r\n            let resGetPhoto = await usersAPI.getPhoto(id);\r\n            dispatch(setUsersPhotoHeader(resGetPhoto.photos!.small));\r\n            dispatch(isInitializedAC(true))\r\n        } else {\r\n            dispatch(setUsersHeader({\r\n                id: null as null | number,\r\n                login: null as null | string,\r\n                email: null as null | string,\r\n            }, false))\r\n            dispatch(isInitializedAC(true));\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport type AuthACType = SetUsersHeaderType | setUsersPhotoHeaderType\r\n\r\n\r\nexport type InitialStateHeaderType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n    isFetching: boolean\r\n    photo: string | undefined\r\n};\r\n\r\n\r\nlet InitialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    photo: undefined as string | undefined,\r\n    isFetching: false\r\n}\r\n\r\nconst AuthReducer = (state: InitialStateHeaderType = InitialState, action: AuthACType): InitialStateHeaderType => {\r\n    switch (action.type) {\r\n        case Set_User_Data :\r\n            if (action.user && action.isFetching !== undefined) {\r\n                return {\r\n                    ...state,\r\n                    ...action.user,\r\n                    isFetching: action.isFetching\r\n                }\r\n            } else {\r\n                return state\r\n            }\r\n        case Set_User_Photo:\r\n            if (action.photo) {\r\n                return {\r\n                    ...state,\r\n                    photo: action.photo\r\n                }\r\n            } else {\r\n                return state\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default AuthReducer;","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form';\r\n\r\n\r\nconst {formControl, errorS, checkboxBlock} = s;\r\n\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\n\r\ntype FormControlType = (params: FormControlPropsType) => React.ReactNode\r\n\r\n\r\nexport const FormControl: React.FC<FormControlType> = ({meta: {touched, error}, children}: any) => {\r\n\r\n    const showErr = error && touched\r\n    return (<div className={showErr ? formControl + ' ' + errorS : formControl}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {showErr ? <span>{error}</span> : ''}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const TextArea: React.FC<WrappedFieldProps> = (pr: any) => {\r\n    const {input, meta, ...restProps} = pr;\r\n    return (<FormControl{...pr}><textarea{...input}{...restProps}/></FormControl>)\r\n}\r\n\r\n\r\nexport const InputValid: React.FC<WrappedFieldProps> = (pr: any) => {\r\n    const {input, meta, ...restProps} = pr;\r\n    return (<FormControl{...pr}><input{...input}{...restProps}/></FormControl>)\r\n}\r\n\r\n\r\nexport const createField = (name: string, component: any, props: { type: string }, placeholder: string | null, validators: any, text: string | '' = '') =>\r\n    (\r\n        <div className={text !== '' ? checkboxBlock : ''}>\r\n            <Field validate={validators} placeholder={placeholder} name={name}\r\n                   component={component} {...props}/>\r\n            {text}\r\n        </div>)","import React from 'react';\r\nimport {withAuthRedirect} from '../../HOC/withAuthRedirect';\r\n\r\n\r\nconst News = () => {\r\n    return (<div>News</div>)\r\n}\r\n\r\n\r\nexport default withAuthRedirect(News);","import React from 'react';\r\nimport {withAuthRedirect} from '../../HOC/withAuthRedirect';\r\n\r\n\r\n\r\nconst Music=()=>{\r\n   return (<div>Music</div>)\r\n}\r\n\r\n\r\nexport default withAuthRedirect(Music);","import React from 'react';\r\nimport {withAuthRedirect} from '../../HOC/withAuthRedirect';\r\n\r\n\r\n\r\n\r\nconst Settings=()=>{\r\n   return (<div>Settings</div>)\r\n}\r\n\r\n\r\nexport default withAuthRedirect(Settings);","import React from 'react';\r\nimport s from './Friends.module.css';\r\n\r\nconst {photoBlock, photoBlock_photo, photoBlock_name, titlePhoto} = s;\r\n\r\nexport type FriendsType ={\r\n    id: number\r\n    name:string\r\n    src:string\r\n}\r\n\r\nexport type FriendsPropsType ={\r\n    friendsData: FriendsType[]\r\n}\r\n\r\n\r\n\r\nconst Friends = (pr:FriendsPropsType) => {\r\n\r\n    const{friendsData}=pr;\r\n\r\n\r\n    const friends = friendsData? friendsData.map((t:FriendsType) => (\r\n        <div key={t.id} className={photoBlock}>\r\n            <div className={photoBlock_photo}>\r\n                <img src={t.src} alt={'friendBlockPhoto'}/>\r\n            </div>\r\n            <div className={photoBlock_name}>\r\n                {t.name}\r\n            </div>\r\n        </div>\r\n\r\n    )):''\r\n\r\n    return (<div className={titlePhoto}>\r\n            {friends}\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Friends;\r\n\r\n","import React from 'react';\r\nimport s from './SideBar.module.css';\r\nimport Friends, {FriendsPropsType} from './Friends/Friends';\r\n\r\nconst {title, titleName} = s;\r\nexport type SideBarPropsType = {\r\n    sideBar: FriendsPropsType\r\n    isFetch: boolean\r\n}\r\n\r\nconst SideBar = (pr: SideBarPropsType) => {\r\n\r\n    const {friendsData} = pr.sideBar;\r\n    const {isFetch} = pr;\r\n\r\n\r\n    if(!isFetch){\r\n        return <div> </div>\r\n    }\r\n\r\n    return (\r\n         <div className={title}>\r\n                <div className={titleName}>Мои друзья</div>\r\n                <Friends friendsData={friendsData}/>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\nexport default SideBar;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport SideBar from './SideBar/SideBar';\r\nimport {NavBarType} from '../../Redux/NavBarPage-reducer';\r\nimport {mapStateToPropsReturnType} from './NavBarContainer';\r\n\r\n\r\n\r\n\r\n\r\nconst {nav, item, setting, active} = s;\r\n\r\nconst NavBar = (pr: mapStateToPropsReturnType) => {\r\n\r\n\r\n\r\n    const {navBarLink, sideBar,isFetch} = pr;\r\n\r\n    const navBarLinks = navBarLink.map((t: NavBarType) => (<div key={t.id} className={item}>\r\n        <NavLink to={t.link} activeClassName={active}>{t.name}</NavLink>\r\n    </div>));\r\n\r\n\r\n\r\n\r\n    return (\r\n        <nav className={nav}>\r\n            {navBarLinks}\r\n            <div className={setting}>\r\n               <NavLink to={'/settings'} activeClassName={active}>Настройки</NavLink>\r\n            </div>\r\n        <div>\r\n                 <SideBar isFetch={isFetch} sideBar={sideBar}/>\r\n        </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\n\r\nexport default NavBar;","import {connect} from 'react-redux';\r\nimport NavBar from './Navbar';\r\nimport {AppStateType} from '../../Redux/ReduxStore';\r\nimport {Dispatch} from 'redux';\r\nimport {FriendsPropsType} from './SideBar/Friends/Friends';\r\nimport {NavBarType} from '../../Redux/NavBarPage-reducer';\r\n\r\n\r\nexport type mapStateToPropsReturnType = {\r\n    navBarLink: NavBarType[]\r\n    sideBar: FriendsPropsType\r\n    isFetch: boolean\r\n}\r\n\r\ntype mapDispatchToPropsReturnType = {}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): mapStateToPropsReturnType => {\r\n    return {\r\n        navBarLink: state.navBarPage.navBarLink,\r\n        sideBar: state.sideBar,\r\n        isFetch: state.Auth.isFetching\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch): mapDispatchToPropsReturnType => {\r\n    return {}\r\n\r\n}\r\n\r\n\r\nconst NavBarContainer = connect<mapStateToPropsReturnType,\r\n    mapDispatchToPropsReturnType,\r\n    {},\r\n    AppStateType>\r\n(mapStateToProps, mapDispatchToProps)(NavBar);\r\n\r\nexport default NavBarContainer;","import {AuthAPI, securityAPI} from '../API/API';\r\nimport {Dispatch} from 'redux';\r\nimport {FormDataType} from '../components/Login/LoginForm';\r\nimport {stopSubmit} from 'redux-form';\r\nimport {getAuthMe} from './Auth-reducer';\r\nimport {AppStateType} from './ReduxStore';\r\nimport {GetStateType} from './UsersPage-reducer';\r\nimport {ThunkAction} from 'redux-thunk';\r\n\r\n\r\nconst LOGIN_USER_TRUE = 'LoginPageReducer/LOGIN_USER_LOGIN_PAGE_TRUE';\r\nconst LOGIN_USER_FALSE = 'LoginPageReducer/LOGIN_USER_LOGIN_PAGE_FALSE';\r\nconst SET_CAPTCHA_URL = 'LoginPageReducer/SET_CAPTCHA_URL';\r\n\r\n\r\nlet InitialState = {\r\n    logIn: false as string | boolean,\r\n    userId: null as number | null,\r\n    captchaUrl : null as string|null // if null then captcha is not required\r\n}\r\n\r\ntype InitialStateLoginType = typeof InitialState\r\n\r\nexport const logInTrue = (userId: number) => ({\r\n    type: 'LoginPageReducer/LOGIN_USER_LOGIN_PAGE_TRUE' as const,\r\n    userId: userId\r\n});\r\nexport const logInFalse = () => ({type: 'LoginPageReducer/LOGIN_USER_LOGIN_PAGE_FALSE' as const});\r\nexport const setCaptchaUrl = (newUrl:string) => ({type: 'LoginPageReducer/SET_CAPTCHA_URL' as const,newUrl});\r\n\r\n\r\ntype logInTrueType = ReturnType<typeof logInTrue>\r\ntype setCaptchaUrlType = ReturnType<typeof setCaptchaUrl>\r\ntype logInFalseType = ReturnType<typeof logInFalse>\r\n\r\ntype LoginPageActionType = logInFalseType | logInTrueType| setCaptchaUrlType;\r\n\r\n\r\nexport const logInThunk = (formData: FormDataType): ThunkAction<void, AppStateType, unknown, LoginPageActionType> => {\r\n    return async (dispatch, getState) => {\r\n        let logInRes = await AuthAPI.login(formData)\r\n        if (logInRes.resultCode === 0) {\r\n            // success, get auth data\r\n            dispatch(logInTrue(logInRes.data.userId))\r\n            dispatch(getAuthMe(logInRes.data.userId))\r\n        }\r\n        else {\r\n               if(logInRes.resultCode === 10){\r\n                dispatch(getCaptchaUrl());\r\n            }\r\n            dispatch(stopSubmit('Login', {_error: logInRes.messages}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkAction<void, AppStateType, unknown, LoginPageActionType> => {\r\n    return async (dispatch, getState) => {\r\n        const response = await securityAPI.getCaptchaUrl()\r\n        const captchaUrl = response.data.url;\r\n        dispatch(setCaptchaUrl(captchaUrl))\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const logOutThunk = () => {\r\n    return async (dispatch: Dispatch<LoginPageActionType>, getState: GetStateType) => {\r\n        let logOutRes = await AuthAPI.logOut();\r\n        if (logOutRes.resultCode === 0) {\r\n            dispatch(logInFalse())\r\n            dispatch(getAuthMe())\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst loginPageReducer = (state: InitialStateLoginType = InitialState, action: LoginPageActionType): InitialStateLoginType => {\r\n    switch (action.type) {\r\n        case LOGIN_USER_TRUE :\r\n            if (action.userId) {\r\n                return {...state,\r\n                    logIn: true,\r\n                    userId: action.userId\r\n                }\r\n            } else {\r\n                return state\r\n            }\r\n        case LOGIN_USER_FALSE :\r\n            return {\r\n                ...state,\r\n                logIn: false\r\n            }\r\n            case SET_CAPTCHA_URL :\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.newUrl\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default loginPageReducer;","import voidAva from '../../img/avatarBlock.png';\r\nimport {NavLink} from 'react-router-dom';\r\nimport React, {useState} from 'react';\r\nimport s from './miniAvaBlock.module.css';\r\nimport {useDispatch} from 'react-redux';\r\nimport {logOutThunk} from '../../Redux/loginPage-reducer';\r\n\r\n\r\nconst {loginBlock, autorize} = s\r\n\r\nexport const MiniAvaBlock = (props: { fetching: boolean | undefined, photo: string | undefined, login: string | null }) => {\r\n    const [logOunBtn, setLogOutBtn] = useState<boolean>(false)\r\n    const isLogOut = () => {\r\n        setLogOutBtn(!logOunBtn);\r\n    }\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const logOut=()=>{\r\n        dispatch(logOutThunk())\r\n    }\r\n\r\n\r\n\r\n\r\n    return <>\r\n        {props.fetching ?\r\n            <div onClick={isLogOut} className={autorize}>\r\n                <div className={loginBlock}>{props.login}</div>\r\n                {props.photo ? <img src={props.photo} alt=\"miniAva\"/> : <img src={voidAva} alt=\"voidAva\"/>}\r\n                {logOunBtn ? <div className={loginBlock}>\r\n                    <button onClick={logOut}>Log Out</button>\r\n                </div> : ''}\r\n            </div> :\r\n            <div className={loginBlock}>\r\n                <NavLink to={'/login'}>\r\n                    <button>Login</button>\r\n                </NavLink>\r\n            </div>}\r\n    </>;\r\n}","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport logo from '../../img/logo.png';\r\nimport {mapStateToPropsHeaderType} from './HeaderContainer';\r\nimport {MiniAvaBlock} from './miniAvaBlock';\r\nimport {useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../Redux/ReduxStore';\r\n\r\n\r\nconst {header} = s;\r\n\r\n\r\nconst Header = (props: mapStateToPropsHeaderType) => {\r\n\r\n    const initialized = useSelector<AppStateType, boolean>(state => state.AppPage.initialized)\r\n    const {login, isFetching, photo} = props;\r\n    return (\r\n        <header className={header}>\r\n            <img src={logo} alt={'miniLogo'}/>\r\n            {!initialized ? '' : <MiniAvaBlock fetching={isFetching} photo={photo} login={login}/>}\r\n        </header>);\r\n}\r\n\r\n\r\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUIAAABoCAYAAACE7fl4AAAfsklEQVR4Xu2dB5QWRbbH/z4J6pIGRCUowUXWsIiKiJE154Dh4VNMC+KuqGtWUJKgIuaMIgqCAguIJAOKARNhQEFyxkAQFNdBmRnWt3v+31RJ2XSq7+v+poe+dc4cZaa7+tat6l/duvdW9U6rNmz6D6QkRgON6xbslBhhRBDRQEo0sJOAMFk9LSBMVn+INOnQgIAwYf0sIExYh4g4qdCAgDBh3SwgTFiHiDip0ICAMGHdLCBMWIeIOKnQgIAwYd0sIExYh4g4qdCAgDBh3SwgTFiHiDip0ICAMGHdLCBMWIeIOKnQgIAwYd0sIExYh4g4qdCAgDBh3SwgTFiHiDip0ICAMGHdLCBMWIeIOKnQgIAwYd0sIExYh4g4qdCAgDBh3ewDwkoAegPoBqATgEFZiF4VQH8AFwE4D8AMVcelAIYF1Pc5gDkAhgP4CMAWj+t3BfAogNMAXAHgQws5tRw9APSxuO9AAKMA1HK0K6gKLWsbAP8HYGHQDT5/PwXAaAAPesheB8ArAE61fEYHdZ/lbXK5jQYEhDbaysO1ARZhawCvA5gGoCOATZYiaWBMB3AdgJ8dIFwMYLVHnTUAEBgsMwHcCeB9AM5DOzRcrlF/vwzAtyHlzAaEPKTiJgAPq2fwv3cBKAnxTFNWm/ucVdcF8ByAdgC8IK5BeBSAL3wmEmfdzwAYF6ItckkOGhAQ5qC8OG4NAKF+cS9RL90UCxl2BnA7gPsAXADgNePesAAiDC9UL3t1AF0AjHTA0IQLH8EXmc/V0PUTOawcZh2NDWuWVmoDZfHOD6EbU9a1AC4GMDXEfeYlBDEt9OfVL4NAuBeA9gA46UhJiAYEhAnpCC1GCB/hiQDGAhjjsOqCWtJELWuLAFwOgC++LrYAagtgCIBvAHDptsqoywlC/onWIy2ufwcIaSsHq6Nl/IKCES1k6uUWtTwPOmLOKevLAK4H8FOQMo2/axAfLSC00FrCLhUQJqxDQoCwQPkHuUw1/XxBLTGB4fQv2gLIXI46/ZUmXPoC4NK4igLmexGDUOtiD1X/LwAGAthT+fxWBjxPy3qCstDOUvXQlxemaCu7q7IICWCxCMNoLmHXCAgT1iEhQGhaQQwoMIDya0AzNDDqewDCFoR8HEE8GcBQZYEVKxlMEB4DoBGAAQAWALgqICBhK8f5LhagH/CdajKDJYQYfYssYf2aLQCMUMtpWqLUh4AwYe9UGHEEhGG0lMdrQoJQL3MpGaOdQZaPXk4/5gFOWwDxuc2Vf5CBGwYrdBTZCUIGZgiZfsrpzyDKeg+V2sjxBwBPATjC4RPUuuEzrgbwnU/3mSCk366V8jfeCOAJl0CQWZUZHafflBH5jwWEeXxZInxU6kBYXFKCxYuX4KeiIhTxZ3MRatashVo1a6Jxo32w155cVZVfCQlCv6WpU3gNDKZteC2lbQCk6w8Lwk8A0CJlVJVpO90VFN38hTZyHKesMabNMBijo8RcrvZUz3EGhfwsQoKQftMnARyuAidzfUaCTpe5X6Uk0UIWEJbfq5PTk1MBwqXLlmP+woX4cv58zP6cmQvepU3rw9H2mGPQ5ghmquS/hAQhBdOpMEsDLB+dcjPeYbmZjbMBkL7vZLUUZM4ggyGl6g9Oi5AgZNkfwEsADgDwNxW4cQYzwsrhlQ+pZfNKEwoCISO5GrCv+qThaLDT1aCDRQyWCAjz/8pE8sQdFoTfrlmLmbNmZX4WLFxkrazDDmmJu++8w/q+XG+wAKGGwQ0u6TBaDG0dcanHHDevdJuwANL18tn3qiWv0+ryAiHv1dFm/r9bsnVYOYJAp3VDn6Rfu51LY4JQJ67zXkLOLcCj5TSTncOC0Cahmj5WPZHkOrTkfh8N7HAg3PTjjxg3YSLGTZyUc8c3bNAATz7yUM712FRgAUJWG5RKo/1lawISsMMCiM8kKAgxWoLvAqDPb4PRRj8QcklPnyaDJ8zXY8R5nXFvGDnCLn21bmiFmktnszvcQMi/62X/EtU+M3GdeYoMEG10/C0sCG0SqrmLaJbN+JFrs9PADgXCN9+enAHg+u/8/ON2iqpSuTJGDmN6WX6KJQj1Eo2Wg9P/R+jQWmSAJGhLXhgAVQPQEsC1CmYMgrhFgf1ASCXSZ8ltfqzHmWwdRo6wcGfyd5C/zwuEZpK0afXpdBnmGjqTr8OCUBKq8/MqWT1lhwHhyNGjMWIUMxiiLzWqV8eQF/TGgejrN2u0BCFv1SkkzlSaegBIcO4ACYosh9lrrMVkQjb31DIg8bWLNoJAyFsYkWLw5FxHsnUQCE1ABcHdTzdabC8Q8u/MTWROIvWn02l0uswbLv5DAWG8r0aste8QIIwTglr7jRs1wqP9mQESb8kChF7Ac8ux8xJeA8hrrzETlWerQxd4UANTU7x2bYQBIeXQwZN9DF9cEAh1W0+y7AVar26TgR8I+QgzMvw4gHsA8NluBzQICC07JUmXV3gQFs6ajXv788CP+EujffZGvz73YJdddontYVmA0Eyl0flvu3nk2AWB0PbUF7f6woKQ99IipL9NJ1sfqvL4vOTQcOdJOfNCdgL9fVzCu+UGBoFQ/52RZO7GYT7kAx45hgLCkB2SxMsqPAjv6/8gZs6isZK/0vW2W9G61WGxPDALEFIOHUXlKS/cR7y3OqXGmWOXNBAy8GImW3+mcgzdQKj9oQdZHKrA9vrtsQ4CIe/Xy2FasIzAOQM8WqcCwljeiPxUWqFBuGbtOnS5kZsa8l/69OyOgw5gSly0JUsQmpFULi+52yIodcQUPGhJatNIG4uQ9ZrBE/0cNxCGiQK7yekXZQ4DQnM/MX2FXkdiCQhtRknCrq3QIFy3/jv8/YZ/lItKEwZC6kAnTnPHBuEy0eIklfIEIWU3gyf8txOEZgJ1NkdlaYuZCaXmOY5hQEh5aqqUmi99zhEUEJbLmxjNQys0CKmCDn/tiJ9/pi8/vyWBINRb6a5UmgjaXpYUi1DLoZOteUiDE4Qa8m9bHj2m6/ZKsA4LwjCDKywIbfII+VwGp5i8rg+1CCOLXGOpgbyBkNvcJk+ZgpmFs1CpUiXU22svHHTg/mi0TyO0OvSQzO+yKV179MSixcx7zW9JIAipAB1MYKKz88xBPwWVt0VI2cxka/O4e/MTBTZwd7ZXL625dU4fElEeILTZWcI2MM3IPNQivwM9JU/LCwinz5yJpwc8j6LNm13VWr1aNRzVpg0uaHcu6u6+u5Xqp88sRL+H9CntVrfmdHHnjlfh9FOYXRFtydJHGK0QUptoIGUaiB2E323YgO69+4D/DSovPT8gcwqMbRnz+jgMG85j4fJXTjv5JFzTie6maIuAMFp9Sm2igTAaiB2Ezw96EW9OfieMLBg7kh9Iy65M/fhjDBs+Ehs2cgto/KVpkyZ4oO89WS/pvSQUEMbfd/IE0YBTA7GD8PKOV3suiU1h6terh6cfeySnHuKBC0OGvoIPP+ZpSPGXKzpcivPO5unu0RUBYXS6lJpEA2E1ECsIJ787Bc8O5Hd1gsuRR7TG7Tfb5QSWlJaipLgYPGy1pKQUW7eWonTrVqz+6isMGJjNZ3+D5TSvqFO7Nm6/+Ubs16yZ3Y0+VwsII1OlVCQaCK2BWEF4x909sGQpzw0NLhdfdAGKi0vKfkqKM/8tKSlB6dZSbC3dmgFcBnSl/K/6d2kptv476MNowc/O9Yp255yNyy/lFzZzLwLC3HUoNYgGbDUQKwjbtefe9HQU7jJhSk2uRUCYqwblftGAvQZiBeHY8RMwYtRolJbqU9ztBawodwgIK0pPiZyige01ECsI+biN33+P4f8chfc++HCH1H/LFi3Q9rhj8Jdjj42kfWIRRqJGqUQ0YKWB2EGopfl8zhy898FUzCgs3KEsxJYHt0DPbvy+dzRFQBiNHqUW0YCNBvIGQi3Uhg0bMb2wEDNmFma+KrcjlHt79cQB+/8pkqYICCNRo1QiGrDSQN5BaErH/cfLV67E6tWrsWTZMqxYucpK+KRczFxC5hRGUQSEUWhR6hAN2GmgXEHoFLW4uBjLVqzApk0/4odNmzI/mzI/P4ZuVaXKlVC5UiVUqlQZlSrtnNn5UfbvbT9VqlTJBHGiKg3q18NTj+aWDK5lERBG1StSj2ggvAYSAcJ5CxZg/frvMl+fW7d+/Xbga9iwAZo3a5b5qVePHwGzL4uWLMFXX3+NdevWY+269Zg2g6cbRVe6d70Dh7bkR95yKwLC3PQnd4sGstFAuYFw6bJlmP3FF/hg6kfgAathy0knHI8u13T2vXz5ipWYN38+5i9chLXr1mbA9+uvv4Z9RFbXnXnaaeh0FT/3m1sREOamP7lbNJCNBvIKQqbSTJs+A5/NmIEFC3lYcHZl74YN8cTD7h9smjDpDbz4Mr8HlN/C8xWfeZzfPM+tCAhz05/cLRrIRgN5AeEvW7Zg1JjX8NY774J+wChK7YICDBrA74NvX2667Q6s+uqrKB4Tuo6qVatgxMtDQl/vdaGAMGcVSgWiAWsNxA7Cz+fMxfiJk/DF3LlWwvXoeicWLFqE+QsXYuEifm53+8L9ye0vvHC7P3w5bz569Olr9bxcL9599zoY+PRTuVYDAWHOKpQKRAPWGogdhKPHvo5XRoy0Fqxy5crYo25d9bM76tatm7EmnWC8+Ybr8fMvv2QCITrCzOO4GHH+dx4PZGjapDEe7ne/dTudNwgIc1ahVCAasNZA7CAkjG6+oyu+/uYba+Eq0g381MBtN+X+RT0BYUXqdZF1R9FA7CCkot59//3MN0tsSp2CAtQuqIXatQtQp6BW5taG9eth1135vR1g1113yfzbq3zPPMQftuUfLl2+InPp98xR/GETlq5YaSNO4LWEIGGYaxEQ5qpBuV80YK+BvICQYt1z3/2gv9CtNGvaBA0a1MuATf/YN8X+jm/WrAV/li5fibnzF2DLluwCOdWqVcPQQQPtBXC5Q0AYiRqlEtGAlQbyBsKRo0djxKgx2wlH8F1w7pkgDMuzbCkuxhuTp2DuvIWgNWlTTj7xBFzb+WqbWzyvTRkI+alOHkvOnwcAMNoUR8JnHQCvKKVzL+T3kXSWVJIkDTQHwGDEtGw+fxo7CLlrZOSoMeB/g0pmOVy7Fprt2zSzHOayOFdAfrtmLX5RKTu0/Fi4NNawo0WYrSWo28PotVncItlBbdd/TxkINaD4rV9+vD0uSAkIww7AintdMkFYOHs2xk2YFAqAQbrX/kBaj4Qll9G6lEGtzBeo/YAEGwFXHqVHt6445OAWWT86ZSA0LcLeAPiBG7EIw48e7je9GMB6AFxu7fgnIHvrJlkg/OiTTzD53fciAWD48ZCcK18Z/CJ2UwGdbKRKGQizUVE29+yoFmFOL382ikzwPTnpIrKl8cxZs/DPMWOxbPnyBOsqXtHq1KmDF57JLalaQBhLHwkIY1FroipNBgipku69+6TWEmT7o8glFBDG8nIJCGNRa6IqTQ4IZxTOwqDBQ/Ddhg2J0lC+hOHpMzyFJpdiCUK+4IzUnE0OA6jNWBCATwFMAfA6gNUA/uMh0/8AOEL5mRiw4GAqAvAJgLHq/rBHA7nJwr2RHwEYDGA6ALdvrzJAMgxAByOy6xS3BgDKdwaAI5WcvIYRwkkAXgbgt7k8VxA6ZfwDgHMB8DONWu9sKwM+3HD+BYD/DzEOdgLAo807ATgewCFG/w0HMBHAT456zACT3yN6AOij6mQ0lXXdGeBH3Fndw29PsH3jA9pAZz11z90S1wH42XH9Pmpssd/aqr99rvqMMjGC6qcnfhbyHgDHqDHN1JKrAJzEVGIA7QHo/bdhQUid8yV9FsA6AF0AzIpsaawV8K+ffsKn06Zh+fKV4FY3HrWV77Lzzjtj/+bUS1kJE7GOQkaePsNTaHIpFiA8DgCz1HVDOcA4AzUyfkdReGLs3QC2OOTaGwA3ZF+ufk+AzgHA7HW+kCz83c0KUF4fkGbA4yIAPR2yMIJ1sIIz6+KRQLerwWeK4gfCqupFYiCF7WIh2PmxbAJBy8nfUU7C2w36UYJwIYAnABytJg0O8MoAdDY9J5L+AB520bnZ7uoKTNcD4P+76Z/9wReVE5tuV4Gqn5AhDHgIJu+lTkyoEHxPAiC06a/ZX4HbbycBQUMAc3JkG9lfJT7j+WQAk10mMcr1NzXuODmzcNLaquRle1l4agphR/ndigbhXwD8GcB9Slfsbx4oSrCX7ZQoew+C0mcIwXbqnfgNgrw5chCaren38COYPmOmjx7t/8QIcucrOqDZvk0wbOQYTCucvV0lNWvUwOCBz2V+77dc12kvbvmNtpLxUFYezpprCQnCZgos/O9dAF51WA4c/ATlDQAGABjnkIuDZpB6mTmj80wzc3bm/RwwBCiv5YDji+2EoY76csCuUbmAjF5qK4YW576qHgKXoLpGAVuL5AfCVgB4lDit0scAvAnATPKkpcjDKWn98GXiCRyFLn0QFQg5qRCAnHBoqXDy0Trhy3+6elmpsxsVTNzATP0SltcqS42g50DWIDP1vwsAHnTp9hnIMC8/1dFRReS5enjNZ4yer6LPvIQWPC1eL3BykmIbCE3zOsp+LwDuN+XLz7a9Z0wKHDOcwNhnZ6mxyTHByLezaBDyZb5EtYGAdlvlBOmCY5F1EL4c6xlLUD8wNhCWlJTi6mu7oGjz5lzZ8Lv727Q6FB3al+XtMUfw/ke3D07Ur1cPTz9WdnS+HwgfeaAfeHxWlxtpTORWolgWU4KQIOTAIeBuAcBDEL2WvlzqsJgpKYQHLQWCqZuaHb1mfVoRLwE4AMBlLkA9RYGKA4vLu3keWuRLQyVzVie4zZfLD4SUn0tiLq9pabkVzvIEPkHJUy/48jhTcKICIZ/PJRVnPC95uATk8pgWhxtITHn5UtLqci4pdTsPUi8/YUvXgfOjPkEvv65HW3q0Xpm87lwd8DqCnGOJFiZdI+wv9iknTLei66S1qpfcbBvv4UqFky9h863H/eZkwEmW48I5DjUIWYXXZKyr99MF4cvJhO1zHauxgXDO3C/R615astGWy9pfgCNaHZqpdHrhbAwduf1ulf2a/REP9KV7xB+Eg559BjVr1kCHqzqiuMRvBRDchiiWxRYg1APEz6/mJTR9P1ym0jrjsszpg3Lep2H3rrIstEXGJRpnavpbaIlxieRX3KDM68P4CIM6QL8EhI9bUnZUIOSymHl7fmfKaUuJcOa1zqOXNEB+UZOLFyh0m3V/9XKZ9MKCUMvEpSzdGG6fjzwQwCjlF+bkxzHC9rr5/sx+4/h4RwnbWPl7uRwO0hNvaaCeQz/peWq5a/a1Hucce5y4/ZKDvXRBCHKZThh5TtixgdBrS13QiA76+z/+3imz24TW4GMDXnDdFXL6Kaegc0f6VIFhw0dgzOvOlSHAg12fe+rJzAeerr/5VnzzbdB49Jbs8MMOQ7fbbw0SPdTfLS1Cdi59c17+O+czqwDop6wCcwD7yUZ/ztNqoHLpR2uB5TAAE3imhpr5vSykoHZHAUINOjpoTQe6fnZUIAzjNzMhoQMWpg4o3whlcYU50nx3BQsurWht/cuoLCwIecs5ykrzsvK4yqCLhC4RWuAcJ1y6cpJzgl/7HRs6AKWf4WWZu40Fvboh9LikNlc3GoRBKx/W66YLvRLhe8KlvueqJTYQ3v/gw5mPuUddzjjlxMz2u9HjJ3lujevTszsOOoCrOWDxkiW4sztZ8ftiHur64KOPZwI82ZZed3fDwX/mqi/3EhKE2kdI/wyXalwm89sHQTsLNBD4cnHGXhZSYi6n6Gvg8oI+RfNl5/I6l4MYKxIIuVwMAy/6ET9WfrCypcm2ol9uLqGnhtC/nrxOcIG8DQh1hJdWFZes5sRF614vgelPpNV/olo1uFmi2nqkb9qEl26bmyXs1VQ9oTL6T78iLWVddH1hIthOXbAOuh0oPwMqdFN4frEtNhB27nI9NmzcGKKf7S5hsMRvb/AJbdvi+mtpCW8rg4cOw7iJ1HNZ4TdPet/dDQUF7H9kIEgYupXWrQ7D2WeeAX4LhelBzuL2PLsW/f7qkCDkTYxS0kI5XNXAgU0fEF/AD5Sj2nl6RNAS0kt0DSvTwslleW4+JwiEZorPsUak2E1WRlnjtAjDuiK8QKj9cLSCsilMI9EWOe+3ASFdE7QIaBUx3coczK3VkvghY/mtLVH6EzUctcyUn3WZy1mzbU45/drqNybN9Bmz3W71mbrgfQxWcZLWxcsPmfl7LCDcvHkzLusYzWksYUbLbrvtBn5buE3r1jjmqCMzp1o7ywsvDcGkt97Cn5o3x7WdO2VgaJZrrrvBNf/xjFNPxdV/vRIDXxyMN95mmti2Ur16dfTt2R377M1MlGiKBQj5QFoLdG4zoEALgwNapybw7y8qJzR9Z+aL4+VL82pEeYGQL5ee1bVsNN2dfk2mrzBV5+sKBEK3dgQNIr7YJsBsQMi6CWhG3k0rjwEOBioYUTX9h/w9VwK81nSJaOuRASlzqZ4UEC4BQDcCfWP0W3PFxEALl4i0kJgetF1wMRYQzp03Dz370GKOp7Rs0QL7Nm2Clge3QIP69VFQq+zg1lyKl1V4+aWXoN05Z2Ps+Al4+RWuBLaV3t3vQouDGNiLrliC0PlgOobpJ2NyLmciWlBmykpFWxrrQAF9VHTC0tfi5g/Nl48wV4uQ/WW7NPYbXLYgdFsC+yVF62UrD8NgGgzhp61H/rssR21biWtpHMbC1LrghMjCwA9BTue/juTz966pSLGAcNzEiRg8VB//Fh0kGA0+6/TTcezRTOaPvrjBkN9E4fM++uRTPPIEs07KiteHo3KVKkcQmo/n7MClM9NedGCkIgVLtKy0OujA504Zr1KRQKgDCmECAEHDyRaErI9wIMS0laeTot1yDHVQhNFgrgroX3SzHrWccQVLbEHIiDf1q7e4mSlLXGJvl4oUCwgHvjQYb7z1+2VkUI8G/T2KfbxBz+DfC2d/jvc/nPpb8OT+e3plltOLFi9G1x69wIMVzj/3HJxxKtkSfYkQhBTOzY9XXukz9PVxSeJclnj5CPVSi75QN7+fqXz6OWiuM0cyyT5CyqxTTGi9c5LijpBsSzYg5BlxTFJn5JqRYQa6mLjOpTETlZ1F9w/HDROkGSzjySpu+Yhxpc/YgFAnSzv942be4nb5m7GAsP8jj+Kz6Z4BGutOzxcETcGYTjPlgw9x5qmngp/q3Ljxe3w6fTqOP+44VK9ezboNYW8ICcKmKurnt6nbzGczU2U4IBj55NLZJqHaLVcwbEI1X3pGXJlfRqe1KbcXCE3r1W9HBIHJdnAXTNKDJRwGtE7YZlot5vLNa4gwQsv+5pY55yTyRwU0BspYJ3f3BBUz9YX+P/YHfWl66eu8X+c9Mv2E19HHdqXHDhWzbTYJ1V5pYNkGS7ySxvdUy3lC/XcJ2rGAkOkqTFuJohzR+nDceUvuOz+ikCUfdYQAod4ZwtQZ+mi4ZYpBAnOfKX1BjPQxyss8P+e2tnxtseOLwT3CTC7m4OTL4dxO5Rc11ikcTH/gwOVWLZ0iRAuTDvDbAOyndiXQHZB0i5DDiDAivPmjt6Ex0m/uMNlDpXxQb9y37dYuDTWCiUtWTnCM8lI33MZGa9MtYV7rnKkU3IppBkOcw1wfxMAIMdNA+G8v61G3LeotdjYWYdBR/eZuqd8m91hA6BWBtQUJLbHed98FbplLSwkBQlpA3F/LF0QfRED1cAAwWsYcQ/17+kMIRH1Ch6nGuA9d4HdBTFkYtKHMzuWXHwjNXQE6Gs528mXXBzqwjayX7fRaRkeVUB1FsET3AS12+j+5Z1kfTMB+4qRm6o2g5ETilejKSDAd8uxz7rdmYIlWHOt02xbJ55uHK7BfnOkxztdNT0jsA+ZFelmP+r6oD12IEoSUUbuHuIxmdHlhLCC86NLLIvm4ug5UpAWCbGcIEGp10DJkVJizGqGgT2Lhy8TDAOjLoZXhtq9U1xF0DBf3L4b90JHXMVyfKf8dk4fd9jEG5RGaR1Wd6TgqTPu6aA3TGqpIINR9QMuP1hYDQoQaYcPJgn1Hvyd3efj1Ieuhhc9lE9OoCEQe0MCtfRwDbvuYTbdJmCRxnVNI+YICV+br6ncMF9vGTQBe++RZT9RLYy0bJ1gGU+gjzaxSYgHhrV27YXmO3w2+6Px2uKT9/6aJgZm2WoAwdbqRBosG4tJALCAc+upwvDYu6ExH7yZF+XnMuBQXV70Cwrg0K/WKBrw1EAsI53z5JXr1ze7kmRrVq2PICzzFJ51FQJjOfpdWl68GYgEhm6S3tNk0r3mzZujXl77j9BYBYXr7XlpefhqIDYRsEr9d8sWcufhmzRoUFRXhp6IirFq1Gj9s+n2u4y5Vq+L8884F/YJpLwLCtI8AaX95aCBWEHo1iIGUwtmzUFCrADVq1MCee9RFk8ZMSpciIJQxIBrIvwbKBYT5b2bFeaKAsOL0lUi642hAQJiwvhQQJqxDRJxUaEBAmLBuFhAmrENEnFRoQECYsG4WECasQ0ScVGhAQJiwbhYQJqxDRJxUaEBAmLBuFhAmrENEnFRoQECYsG4WECasQ0ScVGhAQJiwbhYQJqxDRJxUaEBAmLBuFhAmrENEnFRoQECYsG4WECasQ0ScVGhAQJiwbhYQJqxDRJxUaEBAmLBuFhAmrENEnFRoQECYsG4WECasQ0ScVGhAQJiwbhYQJqxDRJxUaEBAmLBuFhAmrENEnFRoQECYsG4WECasQ0ScVGhAQJiwbhYQJqxDRJxUaEBAmLBuFhAmrENEnFRogB/PliIaEA2IBlKtAQFhqrtfGi8aEA1QAwJCGQeiAdFA6jUgIEz9EBAFiAZEA/8FVtxXJVnuFyoAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport Header from './Header';\r\nimport {getAuthMe} from '../../Redux/Auth-reducer';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../Redux/ReduxStore';\r\n\r\n\r\nexport type mapStateToPropsHeaderType = {\r\n    login: string | null\r\n    isFetching: boolean | undefined\r\n    id: number | null\r\n    photo: string | undefined\r\n}\r\ntype mapDispatchToPropsHeaderType = {\r\n    getAuthMe: (id: number | null) => void\r\n}\r\n\r\ntype HeaderContainerClassType = mapStateToPropsHeaderType & mapDispatchToPropsHeaderType\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerClassType> {\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.getAuthMe(this.props.id);\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Header photo={this.props.photo} id={this.props.id} login={this.props.login}\r\n                    isFetching={this.props.isFetching}/>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsHeaderType => {\r\n    return {\r\n        login: state.Auth.login,\r\n        isFetching: state.Auth.isFetching,\r\n        id: state.Auth.id,\r\n        photo: state.Auth.photo\r\n    }\r\n}\r\n\r\n\r\nexport default connect<mapStateToPropsHeaderType, mapDispatchToPropsHeaderType, {}, AppStateType>(mapStateToProps, {\r\n    getAuthMe\r\n})(HeaderContainer);","import React from 'react';\r\nimport {InjectedFormProps, reduxForm} from 'redux-form';\r\nimport s from './LoginForm.module.css';\r\nimport {createField, InputValid} from '../common/FormsControls/FormsControls';\r\nimport {requiredField} from '../../utils/validators';\r\nimport {maxLength30} from '../Profile/MyPosts/ReduxMyPostForm';\r\nimport {useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../Redux/ReduxStore';\r\n\r\n\r\nconst {inputField, checkBox, btnLog, form_summary_error} = s;\r\n\r\n\r\nexport type FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captchaUrl?: string\r\n}\r\n\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    const {handleSubmit, error} = props;\r\n    const captchaUrl = useSelector<AppStateType, null | string>(state => state.loginPage.captchaUrl)\r\n\r\n\r\n    return (<form onSubmit={handleSubmit}>\r\n            <div className={inputField}>\r\n                {createField('email', InputValid, {type: 'text'}, 'email', [requiredField, maxLength30])}\r\n                {createField('password', InputValid, {type: 'text'}, 'password', [requiredField, maxLength30])}\r\n                <div className={checkBox}>\r\n                    {createField('rememberMe', 'input', {type: 'checkbox'}, null, null, 'remember me')}\r\n                </div>\r\n\r\n                {captchaUrl && <img src={captchaUrl} alt=\"captcha\"/>}\r\n                {captchaUrl && createField('captcha', InputValid, {type: 'text'}, 'Symbols from image', [requiredField])}\r\n\r\n                {error ? <div className={form_summary_error}>\r\n                    {error}\r\n                </div> : ''}\r\n                <div className={btnLog}>\r\n                    <button>Log In</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport const ReduxLoginForm = reduxForm<FormDataType>({form: 'Login'})(LoginForm)","export default __webpack_public_path__ + \"static/media/log1.89e7b38a.png\";","export default __webpack_public_path__ + \"static/media/log2.fa13fa2c.png\";","export default __webpack_public_path__ + \"static/media/log3.d4a4e497.png\";","export default __webpack_public_path__ + \"static/media/log4.69644286.png\";","import React from 'react';\r\nimport {FormDataType, ReduxLoginForm} from './LoginForm';\r\nimport s from './login.module.css';\r\nimport login1 from '../../img/log1.png';\r\nimport login2 from '../../img/log2.png';\r\nimport login3 from '../../img/log3.png';\r\nimport login4 from '../../img/log4.png';\r\nimport {logInThunk} from '../../Redux/loginPage-reducer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../Redux/ReduxStore';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst {loginPage, loginImg1, loginImg2, loginImg3, loginImg4} = s;\r\n\r\n\r\nexport const Login = () => {\r\n\r\n    const userId = useSelector<AppStateType, null | number>(state => state.Auth.id)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        dispatch(logInThunk(formData))\r\n    }\r\n\r\n\r\n\r\n    if(userId){\r\n        return <Redirect to={'/profile/:userId?'}/>\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={loginPage}>\r\n            <div className={loginImg1}><img src={login1} alt=\"loginPageImg1\"/></div>\r\n            <div className={loginImg2}><img src={login2} alt=\"loginPageImg2\"/></div>\r\n            <div className={loginImg3}><img src={login3} alt=\"loginPageImg3\"/></div>\r\n            <div className={loginImg4}><img src={login4} alt=\"loginPageImg3\"/></div>\r\n            <span>Log In</span>\r\n            <ReduxLoginForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\n\r\n\r\nexport type NavBarType = {\r\n    id: number\r\n    link: string\r\n    class: string\r\n    name: string\r\n}\r\n\r\n\r\nlet InitialState = {\r\n    navBarLink: [\r\n        {id: 1, link: '/profile', class: 'item', name: 'Профиль'},\r\n        {id: 2, link: '/users', class: 'item', name: 'Друзья'},\r\n        {id: 3, link: '/dialogs', class: 'item', name: 'Сообщения'},\r\n        {id: 4, link: '/news', class: 'item', name: 'Новости'},\r\n        {id: 5, link: '/music', class: 'item', name: 'Музыка'}\r\n\r\n    ] as NavBarType[]\r\n}\r\n\r\nexport type InitialStateNavBarType = typeof InitialState;\r\n\r\n\r\nexport const NavBarPageReducer = (state: InitialStateNavBarType = InitialState, action: { type:string }): InitialStateNavBarType => {\r\n\r\n    return state;\r\n}\r\n\r\n\r\nexport default NavBarPageReducer;","import {FriendsType} from '../components/Navbar/SideBar/Friends/Friends';\r\n\r\n\r\n\r\nexport type SideBarType = {\r\n    friendsData: FriendsType[]\r\n}\r\n\r\nlet InitialState = {\r\n    friendsData: [\r\n        {id: 1, name: 'Pein', src: 'https://www.ninjaturtles.ru/forum/pic/22077.jpg'},\r\n        {id: 2, name: 'Kakashi', src: 'https://99px.ru/sstorage/56/2017/04/mid_275722_9456.jpg'},\r\n        {id: 3, name: 'Naruto', src: 'https://klike.net/uploads/posts/2018-09/1536741383_6.jpg'},\r\n    ] as FriendsType[]\r\n}\r\n\r\ntype InitialStateType = typeof InitialState;\r\n\r\nexport const SideBarReducer = (state: InitialStateType = InitialState, action: { type:string }) => {\r\n\r\n    return state;\r\n}\r\n\r\n\r\nexport default SideBarReducer;","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport ProfilePageReducer from './ProfilePage-reducer';\r\nimport DialogsPageReducer from './DialogsPage-reducer';\r\nimport NavBarPageReducer from './NavBarPage-reducer';\r\nimport SideBarReducer from './SideBar-reducer';\r\nimport UserPageReducer from './UsersPage-reducer';\r\nimport AuthReducer from './Auth-reducer';\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport loginPageReducer from './loginPage-reducer';\r\nimport AppReducer from './App-reducer';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: ProfilePageReducer,\r\n    dialogsPage: DialogsPageReducer,\r\n    navBarPage: NavBarPageReducer,\r\n    sideBar: SideBarReducer,\r\n    UsersPage: UserPageReducer,\r\n    Auth: AuthReducer,\r\n    form: formReducer,\r\n    loginPage: loginPageReducer,\r\n    AppPage: AppReducer\r\n});\r\n\r\n\r\nlet store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunkMiddleWare),));\r\n\r\nexport type StoreType = typeof store;\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\ndeclare global {\r\n    interface Window {\r\n        store: StoreType;\r\n    }\r\n}\r\n\r\n\r\nwindow.store = store;\r\nexport default store;\r\n\r\n\r\n\r\n","import React, {Suspense} from 'react';\r\n\r\nimport Preloader from '../components/Preloader/Preloader';\r\n\r\n\r\nexport function withSuspense(Component: React.FC) {\r\n\r\n    return (props: any) => {\r\n        return <Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n\r\n\r\n}","export default __webpack_public_path__ + \"static/media/notfound.52f5b072.gif\";","import React from 'react';\r\nimport errImg from './404ErrImg/notfound.gif';\r\nimport s from './Error404.module.css';\r\n\r\nconst{err404}=s;\r\n\r\nconst Error404 = () => {\r\n    return (\r\n        <div className={err404}>\r\n            <img src={errImg} alt=\"ErrorImg\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Error404;","import './App.css';\r\nimport { HashRouter, Redirect, Route, Switch} from 'react-router-dom'\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport React, {useEffect} from 'react';\r\nimport NavBarContainer from './components/Navbar/NavBarContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport {Login} from './components/Login/login';\r\nimport {Provider, useDispatch, useSelector} from 'react-redux';\r\nimport store, {AppStateType} from './Redux/ReduxStore';\r\nimport {getAuthMe} from './Redux/Auth-reducer';\r\nimport {withSuspense} from './HOC/withSuspense';\r\nimport Preloader from './components/Preloader/Preloader';\r\nimport Error404 from './components/common/Error404/Error404';\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst ContainerUsersClass = React.lazy(() => import('./components/Users/ContainerUsersClass'));\r\n\r\nconst App: React.FC = () => {\r\n    const initialized = useSelector<AppStateType, boolean>(state => state.AppPage.initialized)\r\n    const userId = useSelector<AppStateType, null | number>(state => state.Auth.id)\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getAuthMe(userId))\r\n    }, [userId])\r\n\r\n\r\n    if (!initialized) {\r\n        return (<div className=\"app-wrapper\">\r\n            <HeaderContainer/>\r\n            <NavBarContainer/>\r\n            <div className={'app-wrapper-content'}>\r\n                <Preloader/>\r\n            </div>\r\n        </div>)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"app-wrapper\">\r\n            <HeaderContainer/>\r\n            <NavBarContainer/>\r\n            <div className={'app-wrapper-content'}>\r\n            <Switch>\r\n\r\n\r\n                    <Route exact path={'/'} render={()=><Redirect to={'/profile'}/>}/>\r\n                    <Route path={'/profile/:userId?'} render={withSuspense(ProfileContainer)}/>\r\n                    <Route path={'/dialogs'} render={withSuspense(DialogsContainer)}/>\r\n                    <Route path={'/users'} render={withSuspense(ContainerUsersClass)}/>\r\n                    <Route path={'/news'} render={() => <News/>}/>\r\n                    <Route path={'/music'} render={() => <Music/>}/>\r\n                    <Route path={'/settings'} render={() => <Settings/>}/>\r\n                    <Route path={'/login'} render={() => <Login/>}/>\r\n\r\n                    <Route path={'*'}  render={() => <Error404/>}/>\r\n\r\n\r\n            </Switch>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default App ;\r\n\r\n\r\nexport const SamuraiJSApp:React.FC = () => {\r\n\r\n    return (<HashRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n           )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {SamuraiJSApp} from './App';\r\n\r\n\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n","\r\nexport type FieldValidatorType = (value: string) => string | undefined\r\n\r\n\r\nexport const MaxLengthCreator = (maxLength: number): FieldValidatorType => {\r\n    return (value) => {\r\n        return value.length < maxLength ? undefined : `the text length has to be lower the ${maxLength} symbols`\r\n    }\r\n}\r\n\r\n\r\nexport const requiredField: FieldValidatorType = (value) => (value ? undefined : 'Please enter the text')\r\n","import React, {ComponentType} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../Redux/ReduxStore';\r\n\r\n\r\ntype MapStateToPropsForRedirectType = {\r\n    isAuth:boolean\r\n}\r\n\r\n\r\nconst mapStateToPropsForRedirect = (state: AppStateType):MapStateToPropsForRedirectType => {\r\n\r\n    return {\r\n        isAuth: state.Auth.isFetching\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component:ComponentType<T>){\r\n     const RedirectComponent = (props:MapStateToPropsForRedirectType)=>{\r\n         let{isAuth,...restProps}=props;\r\n         return isAuth ? <Component {...restProps as T}/>: <Redirect to={'/login'}/>\r\n        }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"login_loginPage__3V3ca\",\"loginImg1\":\"login_loginImg1__2Qjuu\",\"loginImg2\":\"login_loginImg2__3MprE\",\"loginImg3\":\"login_loginImg3__2rNPT\",\"loginImg4\":\"login_loginImg4__2Q9QB\"};","\r\n\r\n\r\nconst SET_INITIALIZED = 'App-reducer/SET_INITIALIZED';\r\n\r\n\r\nexport const isInitializedAC = (isInit: boolean) => ({\r\n    type: 'App-reducer/SET_INITIALIZED' as const,\r\n    isInit\r\n});\r\n\r\n\r\nexport type isInitialACType = ReturnType<typeof isInitializedAC>\r\n\r\n\r\nexport type AppACType = isInitialACType\r\n\r\n\r\nexport type InitialStateHeaderType = {\r\n    initialized: boolean\r\n    isInitialized:boolean\r\n};\r\n\r\n\r\nlet InitialState = {\r\n    initialized: false,\r\n    isInitialized:false\r\n}\r\n\r\n\r\n\r\n\r\nconst AppReducer = (state: InitialStateHeaderType = InitialState, action: AppACType): InitialStateHeaderType => {\r\n\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED :\r\n            return {\r\n                ...state,\r\n                initialized: action.isInit\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default AppReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1C9YQ\",\"item\":\"Navbar_item__3jakq\",\"setting\":\"Navbar_setting__3c9l9\",\"active\":\"Navbar_active__1Hf1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoBlock\":\"Friends_photoBlock__3D_ae\",\"photoBlock_photo\":\"Friends_photoBlock_photo__31cxz\",\"photoBlock_name\":\"Friends_photoBlock_name__2DePh\",\"titlePhoto\":\"Friends_titlePhoto__4ac3p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputField\":\"LoginForm_inputField__IAaT3\",\"checkBox\":\"LoginForm_checkBox__3zyiW\",\"btnLog\":\"LoginForm_btnLog__1oS5l\",\"form_summary_error\":\"LoginForm_form_summary_error__1Nrdl\"};","export default __webpack_public_path__ + \"static/media/preloader.3c368123.png\";","import React from 'react';\r\nimport preloader from '../../img/preloader.png';\r\nimport s from './Preloader.module.css';\r\n\r\n\r\nconst {preloaderClass} = s;\r\n\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={preloaderClass}>\r\n            <img src={preloader} alt=\"preLoader\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2mxv3\",\"errorS\":\"FormsControls_errorS__2YYkT\",\"checkbox\":\"FormsControls_checkbox__G2m5P\",\"checkboxBlock\":\"FormsControls_checkboxBlock__KS6hP\"};","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {MaxLengthCreator, requiredField} from '../../../utils/validators';\r\nimport {TextArea} from '../../common/FormsControls/FormsControls';\r\n\r\n\r\nexport const maxLength30 = MaxLengthCreator(30)\r\n\r\n\r\nexport type NewPostMsgType = {\r\n    NewPost: string\r\n}\r\n\r\nconst PostForm: React.FC<InjectedFormProps<NewPostMsgType>> = (pr) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={pr.handleSubmit}>\r\n            <div>\r\n                <Field validate={[requiredField, maxLength30]}\r\n                       placeholder={'New post...'}\r\n                       name={'NewPost'}\r\n                       type={'text'}\r\n                       component={TextArea}/>\r\n            </div>\r\n            <div>\r\n                <button>New post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxMyPostForm = reduxForm<NewPostMsgType>({form: 'ProfilePost'})(PostForm)\r\n\r\n\r\nexport default ReduxMyPostForm;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"SideBar_title__2h51_\",\"titleName\":\"SideBar_titleName__2DvVT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"miniAvaBlock_loginBlock__sPJsD\",\"autorize\":\"miniAvaBlock_autorize__nEuOL\"};","export default __webpack_public_path__ + \"static/media/avatarBlock.cbebdb47.png\";"],"sourceRoot":""}